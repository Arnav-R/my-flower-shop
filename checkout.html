<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout</title>
    <link rel="stylesheet" href="style4.css">
    <link href="https://fonts.googleapis.com/css2?family=Avenir:wght@700&family=Gill+Sans&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Vertical Navigation Bar -->
        <nav class="vertical-nav">
            <ul>
                <li><a href="index.html" class="icon home">üè†</a></li>
                <li><a href="#" class="icon products">üõí</a></li>
                <li><a href="#" class="icon care">üåø</a></li>
                <li><a href="#" class="icon contact">üìû</a></li>
            </ul>
        </nav>

        <!-- Vertical Heading -->
        <div class="vertical-heading">CHECKOUT</div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Left Section: Address and Cart Items -->
            <div class="left-section">
                <textarea id="address" name="address" placeholder="Enter your address here..."></textarea>
                <div class="cart-items">
                    <ul class="cart-item-list">
                        <li class="cart-item">
                            ITEM 1: $10
                            <button class="remove-btn" data-index="0">Remove</button>
                        </li>
                        <li class="cart-item">
                            ITEM 2: $10
                            <button class="remove-btn" data-index="1">Remove</button>
                        </li>
                        <li class="cart-item">
                            ITEM 3: $10
                            <button class="remove-btn" data-index="2">Remove</button>
                        </li>
                        <li class="cart-item">
                            ITEM 4: $10
                            <button class="remove-btn" data-index="3">Remove</button>
                        </li>
                    </ul>
                </div>
                <div class="total-price">
                    <p><strong>TOTAL PRICE: $40</strong></p>
                </div>
                <button class="confirm-order-btn">CONFIRM ORDER</button>
            </div>

            <!-- Right Section: Product Image -->
            <div class="right-section">
                <img src="tulips.png" alt="Pink Tulips" class="main-image">
            </div>
        </main>
    </div>

    <script>
        const savedCart = JSON.parse(localStorage.getItem("cart")) || [];
        const cartItemList = document.querySelector(".cart-item-list");
        const totalPriceElement = document.querySelector(".total-price strong");

        // Update total price dynamically
        function updateTotalPrice() {
            let totalPrice = 0;
            savedCart.forEach(item => {
                totalPrice += item.price * item.quantity;
            });
            totalPriceElement.textContent = `TOTAL PRICE: $${totalPrice.toFixed(2)}`;
        }

        // Remove item from cart
        cartItemList.addEventListener("click", (e) => {
            if (e.target.classList.contains("remove-btn")) {
                const index = e.target.getAttribute("data-index");
                savedCart.splice(index, 1);
                localStorage.setItem("cart", JSON.stringify(savedCart));
                renderCartItems();
            }
        });

        // Render cart items
        function renderCartItems() {
            cartItemList.innerHTML = "";
            savedCart.forEach((item, index) => {
                const listItem = document.createElement("li");
                listItem.classList.add("cart-item");
                listItem.innerHTML = `
                    ${item.name} - $${item.price} x ${item.quantity}
                    <button class="remove-btn" data-index="${index}">Remove</button>
                `;
                cartItemList.appendChild(listItem);
            });
            updateTotalPrice();
        }

        // Initial render
        renderCartItems();
    </script>
</body>
</html>
